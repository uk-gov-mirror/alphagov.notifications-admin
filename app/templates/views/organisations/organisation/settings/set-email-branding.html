{% extends "org_template.html" %}
{% from "components/radios.html" import radios %}
{% from "components/page-footer.html" import page_footer %}
{% from "components/page-header.html" import page_header %}
{% from "components/live-search.html" import live_search %}
{% from "components/form.html" import form_wrapper %}
{% from "components/radios/macro.njk" import govukRadios %}

{% block org_page_title %}
  Default email branding
{% endblock %}

{% block maincolumn_content %}

  {{ page_header(
    "Default email branding",
    back_link=url_for('.organisation_settings', org_id=current_org.id)
  ) }}
  {% call form_wrapper(data_kwargs={'preview-type': 'email'}) %}
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full preview-pane">
      </div>
    </div>
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        {{ live_search(target_selector='.multiple-choice', show=True, form=search_form, label='Search branding styles by name') }}
        {{ govukRadios({
          "name": form.branding_style.name,
          "fieldset": {
            "legend": {
              "text": form.branding_style.label.text
            }
          },
          "errorMessage": {
            "text": form.branding_style.errors[0]
          } if form.branding_style.errors else False,
          "items": wtforms_option_fields_to_govuk_items(form.branding_style)
        }) }}
      </div>
    </div>
    <div class="js-stick-at-bottom-when-scrolling">
      {{ page_footer('Preview') }}
    </div>
  {% endcall %}

{% endblock %}
